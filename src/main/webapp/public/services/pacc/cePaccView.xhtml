<?xml version='1.0' encoding='UTF-8' ?>
<!--
Copyright (C) 2020 Technology Rediscovery LLC.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <link rel="stylesheet" type="text/css" href="css/style.css"></link>
        <title>Public Data Access Portal</title>
    </h:head>
    <h:body>
        <ui:composition template="./../../navContainer_public.xhtml">
            <ui:define name="content">
                <f:view id="sysHomeView">

                    <!-- MAIN CONTAINER -->
                    <div class="mainContainer">

                        <p:growl id="paccSearchMessages" showDetail="false"/>

                        <!-- CONTENTS CONTAINER -->
                        <div class="public-main-contents-containner">

                            <!--CONTENT MAIN COMPONENT -->
                            <div class="public-main-contents">

                                <!-- GUIDANCE COMPONENT -->
                                <div class="public-guide">

                                </div>

                                <h:form id="viewPublicBundlesForm">

                                    <!-- TITLE COMPONENT -->
                                    <div class="public-title">
                                        <div class="public-title-main">
                                            View/Edit Existing Code Enforcement Request/Case
                                        </div>
                                        <div class="public-title-sub">
                                            Check the status of an existing code enforcement requests or cases, 
                                            or add information to an existing request or case.
                                        </div>
                                    </div>

                                    <p>
                                        Please review the request(s) below for their status, or add additional information to this request. 
                                        Note that additional information will be sent directly to the code enforcement staff. Any additional 
                                        information received here become part of the permanent case record and may become public record.
                                    </p>

                                    <!-- CONTENT IO COMPONENT -->
                                    <div class="public-main-contents-io">
                                        <!-- CONTENT IO COMPONENT: CONTENT -->
                                        <div class="public-main-contents-io-content" >

                                            <!--BUNDLED CE CASES LIST-->
                                            <p:repeat rendered="#{not empty publicInfoBB.bundledCases}" value="#{publicInfoBB.bundledCases}" var="case">

                                                <p:tabView>
                                                    <p:tab title="Case Information">

                                                        <p:panelGrid columns="4" 
                                                                     layout="grid"
                                                                     columnClasses="gridTd, gridTd, gridTd, gridTd" 
                                                                     >

                                                            <h:panelGroup>
                                                                <p:outputLabel value="Case ID:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.caseID}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>

                                                            <h:panelGroup>
                                                                <p:outputLabel value="Case Name:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.caseName}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>

                                                            <h:panelGroup>
                                                                <p:outputLabel value="Case Manager:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160; Name: #{case.bundledCase.caseManager.person.firstName} #{case.bundledCase.caseManager.person.lastName}"/>
                                                                    <p:spacer height="5px"/>
                                                                    <p:outputLabel value="&#160; Email: #{case.bundledCase.caseManager.person.email}"/>
                                                                    <p:spacer height="5px"/>
                                                                    <p:outputLabel value="&#160; Phone: #{case.bundledCase.caseManager.person.phoneWork}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>

                                                            <h:panelGroup>
                                                                <p:outputLabel value="Status:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.statusBundle.phase.label}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>
                                                            
                                                            <h:panelGroup>
                                                                <p:outputLabel value="Origination Date:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.originiationDatePretty}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>
                                                            
                                                            <h:panelGroup rendered="#{case.bundledCase.closingDatePretty}">
                                                                <p:outputLabel value="Closing Date:"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.closingDatePretty }"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>
                                                            
                                                            <h:panelGroup>
                                                                <p:outputLabel value="Active?"/>
                                                                <p:spacer height="5px"/>
                                                                <div>
                                                                    <p:outputLabel value="&#160;#{case.bundledCase.active ? 'Yes' : 'No'}"/>
                                                                </div>
                                                                <p:spacer height="10px"/>
                                                            </h:panelGroup>

                                                        </p:panelGrid>

                                                    </p:tab>
                                                    <p:tab title="Events">

                                                    </p:tab>
                                                    <p:tab title="Violations">

                                                    </p:tab>
                                                </p:tabView>

                                            </p:repeat>

                                            <!--BUNDLED CEARS LIST-->
                                            <p:repeat rendered="#{not empty publicInfoBB.bundledRequests}" value="#{publicInfoBB.bundledRequests}" var="request">

                                                <p:tabView>
                                                    <p:tab title="Messages">



                                                    </p:tab>
                                                    <p:tab title="Request Information">

                                                    </p:tab>
                                                </p:tabView>

                                            </p:repeat>

                                        </div>
                                    </div>
                                </h:form>
                            </div>
                        </div>

                    </div>
                </f:view>

                <script>
                    var y = document.getElementById('public-reviewcase-arrow-id');
                    y.className += " public-menu-active";
                </script> 
            </ui:define>
        </ui:composition>
    </h:body>
</html>

