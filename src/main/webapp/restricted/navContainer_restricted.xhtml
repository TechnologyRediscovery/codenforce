<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="style.css" library="css"/>

        <title>Code Enforcement</title>
        <script>
            function setSideBarHeight() {
                var height = $('.contentContainer').height();
                $('.flexing-box-sidebar').height(height);
            }
            window.onload = setSideBarHeight;
        </script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>


    </h:head>
    <h:body>
        <div class="flex-box-container">
            <ui:insert name="top">
                <div class="flexing-box-topbar">
                    <f:view id="navview">
                        <div class="userToolBar">
                            <h:form id="navForm">
                                <h:panelGrid columns="1" border="0" 
                                             cellpadding="2" columnClasses="userBarTd,  userBarTd, userBarTd"
                                             footerClass="gridFooter" style="margin-right:15px;">
                                    <!--                                  <h:panelGroup>
                                                                          <div class="icon-container">
                                                                            <div class="icon-box-centered">
                                                                                  <i class="material-icons userToolBar-icon">calendar_today</i>
                                                                            </div>
                                                                          </div>
                                                                      </h:panelGroup>
                                                                      <h:panelGroup>
                                                                          <div class="icon-container">
                                                                            <div class="icon-box-centered">
                                                                                <i class="material-icons">settings</i>
                                                                            </div>
                                                                          </div>
                                                                      </h:panelGroup>-->
                                    <h:panelGroup>
                                        <div class="icon-container">
                                            <div class="icon-box-centered">
                                                <h:commandLink  action="#{missionControlBB.logout}" styleClass="headerLink">
                                                    <i class="material-icons">not_interested</i></h:commandLink>
                                            </div>
                                        </div>
                                    </h:panelGroup>

                                    <!--REMOVED-->
                                    <!--REMOVED-->
                                    <!--REMOVED-->
                                    <!--REMOVED-->
                                    <ui:remove>


                                        <h:panelGroup>
                                            <div class="under-icon-link-container">
                                                <h:commandLink action="#{authenticationBB.logout}" value="Schedule" styleClass="headerLink"/>

                                            </div>
                                        </h:panelGroup>


                                        <h:panelGroup>
                                            <div class="under-icon-link-container">
                                                <h:commandLink action="#{authenticationBB.logout}" value="Settings" styleClass="headerLink"/>
                                            </div>
                                        </h:panelGroup>

                                    </ui:remove>

                                    <!--END REMOVE-->
                                    <!--END REMOVE-->
                                    <!--END REMOVE-->
                                    <!--END REMOVE-->

                                    <h:panelGroup>
                                        <div class="under-icon-link-container">
                                            <h:commandLink  action="#{missionControlBB.logout}" styleClass="headerLink">
                                                <h:outputText value=" "/>   
                                                <h:outputText value="Logout #{facesUser.FName} #{facesUser.LName} (#{facesUser.roleType.label})"/>
                                            </h:commandLink>
                                        </div>
                                    </h:panelGroup>

                                </h:panelGrid>

                            </h:form>
                        </div>


                        <div class="logoBox">
                            <h2 id="logoHeader" style="font-weight: bold;">CodeConnect<br />Municipal Data Hub<br />Turtle Creek Valley COG</h2>
                        </div>
                    </f:view>
                </div>
            </ui:insert>
        </div>
        <div class="flex-box-container">
            <div class="flexing-box-sidebar">
                <f:view id="sideBarView">
                    <h:form id="panelMenu">
                        
                        <ui:remove>
                            
                            <h2>Dynamic Menu</h2>
                            <p:menu model="#{navMenuBean.model}"/>

                            <h2>Static Menu</h2>
                        </ui:remove>

                        
                        <p:panelMenu style="width:100%">

                            <p:submenu styleClass="menuLabel" label="General" expanded="true">
                                <p:menuitem value="Dashboard" action="missionControl" ajax="false" icon="ui-icon-disk" />
                                <p:menuitem value="Statistics" action="statistics" ajax="false" icon="ui-icon-disk" />
                                <p:menuitem value="Help" action="help" ajax="false" icon="ui-icon-disk" />
                            </p:submenu> 

                            <p:submenu label="Properties &amp; Persons" expanded="true">
                                <p:menuitem value="Property search" action="propertySearch" ajax="false" icon="ui-icon-disk" />
                                <p:menuitem value="Property profile" action="#{navigationBB.gotoPropertyProfile}" ajax="false" 
                                            icon="ui-icon-disk" disabled="#{navigationBB.noActiveProperty}"/>
                                <p:menuitem value="Person search" action="personSearch"  ajax="false" icon="ui-icon-arrowrefresh-1-w" />
                                <p:menuitem value="Person profile" action="#{navigationBB.gotoPersonProfile}"  ajax="false" 
                                            icon="ui-icon-arrowrefresh-1-w" disabled="#{navigationBB.noActivePerson}"/>
                                <p:menuitem value="New person" action="personAdd"  ajax="false" icon="ui-icon-arrowrefresh-1-w" />
                            </p:submenu>

                            <p:separator />

                            <p:submenu label="Code Enforcement" expanded="true">
                                <p:menuitem value="Open cases" action="ceCases"  ajax="false" icon="ui-icon-close"/>
                                <p:menuitem value="Case History" action="ceCaseHistory"  ajax="false" icon="ui-icon-close"/>
                                <p:menuitem value="Action Requests" action="ceActionRequests"  ajax="false" icon="ui-icon-close"/>
                                <p:menuitem value="Court Entities" action="litigationManage"  ajax="false" icon="ui-icon-close"/>
                                <p:menuitem value="Notice text blocks" action="textBlockManage"  ajax="false" icon="ui-icon-close"/>
                            </p:submenu>

                            <p:separator />

                            <p:submenu label="Active CE Case" expanded="false">
                                <p:menuitem value="Case profile" action="caseProfile"  ajax="false" 
                                            icon="ui-icon-close" disabled="#{navigationBB.noActiveCase}"/>
                                <p:menuitem value="New Event" action="caseEvents"  ajax="false" 
                                            icon="ui-icon-close" disabled="#{navigationBB.noActiveCase}"/>
                                <ui:remove>
                                    
                                <p:menuitem value="Violations" action="caseViolations"  ajax="false" 
                                            icon="ui-icon-close" disabled="#{navigationBB.noActiveCase}"/>
                                <p:menuitem value="Notices" action="caseNotices"  ajax="false" 
                                            icon="ui-icon-close" disabled="#{navigationBB.noActiveCase}"/>
                                <p:menuitem value="Citations" action="caseCitations"  ajax="false" 
                                            icon="ui-icon-close" disabled="#{navigationBB.noActiveCase}"/>
                                </ui:remove>
                            </p:submenu>

                            <p:separator />

                            <p:submenu label="Occupancy">
                                <p:menuitem value="Applications" action="occPermitApplications" ajax="false" icon="ui-icon-document" disabled="true"/>
                                <p:menuitem value="Open inspections" action="occInspections" ajax="false" icon="ui-icon-home" disabled="true" />
                                <p:menuitem value="New inspection" action="occInspectionAdd" ajax="false" icon="ui-icon-document" disabled="true"/>
                                <p:menuitem value="Current inspection" action="occProfile" ajax="false" icon="ui-icon-arrowthick-1-s" disabled="true"/>
                                <p:menuitem value="Checklists"  action="checklists" ajax="false" icon="ui-icon-wrench" disabled="true"/>
                                <p:menuitem value="Payments" action="payments" ajax="false" icon="ui-icon-wrench" disabled="true"/>
                                <p:menuitem value="Fee config" action="feeManage" ajax="false" icon="ui-icon-wrench" disabled="true"/>
                                <p:menuitem value="Permits config"  action="occPermitTypeManage" ajax="false" icon="ui-icon-wrench" disabled="true"/>
                            </p:submenu>

                            <p:separator /> 

                            <p:submenu label="Municpal code">
                                <p:menuitem value="Code guide" action="codeGuideView" ajax="false" icon="ui-icon-arrowthick-1-s" />
                                <p:menuitem value="Active CodeBook" action="codeSetElementList" ajax="false" icon="ui-icon-arrowthick-1-s" />
                                <p:menuitem value="Code Books" action="codeSetManage" ajax="false" icon="ui-icon-home" />
                                <p:menuitem value="Code Sources" action="codeSourceManage" ajax="false" icon="ui-icon-home" />
                                <p:menuitem value="Elements by source" action="codeElementList" ajax="false" icon="ui-icon-arrowthick-1-s" 
                                            disabled="#{navigationBB.noActiveSource}"/>
                            </p:submenu>

                            <p:separator />

                            <p:submenu label="Public">
                                <ui:remove>
                                    
                                <p:menuitem value="Public Dashboard" action="publicPortal" ajax="false" icon="ui-icon-document" />
                                </ui:remove>
                                <p:menuitem value="Submit CE Action Request" action="ceActionRequest" ajax="false" icon="ui-icon-document"/>
                                <p:menuitem value="PACC Searchy" action="paccSearch" ajax="false" icon="ui-icon-document"/>
                            </p:submenu>

                            <p:separator />

                            <p:submenu label="System">
                                <p:menuitem value="User configuration" action="userManage" ajax="false" icon="ui-icon-document" />
                                <p:menuitem value="Municipalities" action="muniManage" ajax="false" icon="ui-icon-arrowthick-1-s" disabled="true"/>
                                <p:menuitem value="CE event config" action="eventManage" ajax="false" icon="ui-icon-arrowthick-1-s" />
                                <p:menuitem value="Request list changes" action="selectItemListChange" ajax="false" icon="ui-icon-home" />
                                <p:menuitem value="Report a bug" action="bugReporting" ajax="false" icon="ui-icon-arrowthick-1-s" />
                                <p:menuitem value="View bug list" action="ticketListing" ajax="false" icon="ui-icon-arrowthick-1-s" />
                            </p:submenu>
                        </p:panelMenu>
                    </h:form>
                </f:view>
            </div>
            <div class="flexing-box-interior">
                <div class="flex-box-container-interior">
                    <f:view id="sessionInfoView">
                        <div class="flexing-box-sessioninfo">
                            <h:form id="sessionInfoForm">
            
                                <div class="activeObjectBox">
                                    <h:outputText styleClass="infoBarDataLabel" value="muni: "/>
                                    <h:outputText styleClass="infoBarData" value="#{sessionBean.activeMuni.muniName} "/> 
                                    <p:commandButton value="switch" styleClass="sessionInfoButton" action="#{missionControlBB.switchMuni}" icon="fa fa-long-arrow-right" />
                                    <p:selectOneMenu id="muniSelectMenu" tabindex="1" value="#{missionControlBB.selectedMuni}">
                                        <f:converter converterId="muniConverter"/>
                                        <f:selectItems id="muniNameList" value="#{missionControlBB.muniList}" var="m" itemValue="#{m}" itemLabel="#{m.muniName}" />
                                    </p:selectOneMenu>
                                    <h:message for="muniSelectMenu" showDetail="true" showSummary="true" 
                                           warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </div>
                                <div class="activeObjectBox">
                                    <h:outputText styleClass="infoBarDataLabel" value="property: "/>
                                    <h:outputText styleClass="infoBarData" value="#{sessionBean.activeProp.address} "/> 
                                    <h:outputText styleClass="infoBarData" value="(#{sessionBean.activeProp.muni.muniName})  "/>
                                    <p:commandButton styleClass="sessionInfoButton" action="#{navigationBB.gotoPropertyProfile}" value="profile" ajax="false" icon="fa fa-home" disabled="#{navigationBB.noActiveProperty}"/>
                                    <p:commandButton styleClass="sessionInfoButton" action="propertySearch" value="change prop" ajax="false" icon="fa fa-search"/>
                                </div>
                            </h:form>
                        </div>
                        <div class="flexing-box-sessioninfo">
                            <h:form id="sessionInfoFormRow2">
                                <div class="activeObjectBox">
                                    <h:outputText styleClass="infoBarDataLabel" value="case: " />
                                    <h:outputText styleClass="infoBarData" value="#{sessionBean.activeCase.caseName}  "/> 
                                    <p:commandButton styleClass="sessionInfoButton" 
                                                     action="caseEvents" 
                                                     value="log new event" 
                                                     ajax="false"
                                                     disabled="#{navigationBB.noActiveCase}"/>
                                    <p:commandButton styleClass="sessionInfoButton" 
                                                     action="caseProfile" 
                                                     value="view case profile" 
                                                     ajax="false"
                                                     disabled="#{navigationBB.noActiveCase}"/>
                                    <p:commandButton styleClass="sessionInfoButton" 
                                                     action="ceCases" 
                                                     value="list open cases" 
                                                     ajax="false"/>
                                </div>
                            </h:form>
                        </div>
                    </f:view>
                        <div class="flexing-box-pagecontent">
                            <ui:insert name="content">
                                <p>I am content in the template content</p>
                            </ui:insert>
                        </div>
                </div>
            </div>
        </div>
        <div class="flex-box-container">
            <div class="flexing-box-footer">
                <ui:insert name="bottom">
                    <div class="footer">
                        <f:view id="footerView">
                            <p>This database application is maintained and updated by the Turtle Creek Valley Council of Governments.</p>
                        </f:view>
                    </div>
                </ui:insert>
            </div>
        </div>
    </h:body>
</html>
