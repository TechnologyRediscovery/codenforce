<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <link rel="stylesheet" type="text/css" href="css/style.css"></link>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"></link>

        <title>Events</title>
    </h:head>

    <h:body id="events-body">

        <ui:composition template="/restricted/navContainer_restricted.xhtml">
            <ui:define name="content">
                <f:view id="events-view">

                    <p:outputPanel id="body-panel">
                        <h:form id="form-messages-global">
                            <p:growl id="events-messages-growl"
                                     />
                        </h:form>

                        <h1>Events</h1>

                        <div class="mainContainer">
                            <div class="ui-g data-container">
                                <div class="ui-g-12 ui-md-4 ui-lg-4 list-data-container">

                                    <p:panel    id="event-settings-panel"
                                                toggleable="true"
                                                style="width: 100%;"
                                                widgetVar="event-setttings-panel-var"
                                                collapsed="false"
                                                rendered="true"
                                                header="Settings" >
                                        <h:form id="event-settings-form">


                                            <div class="ui-g data_container_nested_restrict">

                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field" >

                                                    <div class="restrict-data-field-label-inline" >
                                                        <p:outputLabel for="events-domain-list-som">
                                                            <h:outputText value="Event Domains"/>
                                                        </p:outputLabel>
                                                    </div>

                                                    <div class="restrict-data-field-value-inline" >

                                                        <p:selectOneMenu id="events-domain-list-som"
                                                                         value="#{eventsBB.eventDomianSelected}">

                                                            <f:selectItems  id="event-domain-list-selitems"
                                                                            value="#{eventsBB.eventDomainList}"
                                                                            var="domain"
                                                                            itemValue="#{domain}"
                                                                            itemLabel="#{domain.title}"/>
                                                            <p:ajax update="events-header-domain
                                                                    mode-form
                                                                    event-list-panel
                                                                    event-settings-panel
                                                                    event-search-panel
                                                                    event-search-log-panel
                                                                    event-profile-panel
                                                                    event-add-panel
                                                                    event-update-panel
                                                                    event-remove-panel
                                                                    event-notes-panel"
                                                                    listener="#{eventsBB.onEventDomainListChange}" />

                                                        </p:selectOneMenu>

                                                    </div>
                                                    <p:spacer height="5px" />
                                                    <h:outputText id="events-header-domain"
                                                                  value="#{eventsBB.currentERGBObTitle}" />


                                                </div>


                                            </div>
                                        </h:form>

                                    </p:panel>

                                    <h:form id="mode-form">
                                        <div class="restrict-main-list-mode-button">

                                            <p:selectOneButton style="  width: 100%;
                                                               margin-top: 10px ;
                                                               height: 20px;"
                                                               value="#{eventsBB.currentMode}"
                                                               unselectable="false"
                                                               >
                                                <f:selectItems value="#{eventsBB.pageModes}"
                                                               var="pmo"
                                                               itemDisabled="#{pmo.objectSelectRequiredToEnable and empty eventsBB.currentEvent}"
                                                               itemLabel="#{pmo.title}"/>
                                                <f:ajax render="@all"/>
                                            </p:selectOneButton>
                                        </div>
                                    </h:form>




                                    <p:panel    id="event-list-panel"
                                                toggleable="true"
                                                style="width: 100%;"
                                                widgetVar="event-list-panel-var"
                                                collapsed="false"
                                                rendered="#{eventsBB.activeLookupMode or eventsBB.activeViewMode}"
                                                header="Event list" >

                                        <h:form id="event-list-form">



                                            <div class="ui-g data_container_nested_restrict">
                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field">

                                                    <div class="restrict-data-field-label-inline" >
                                                        <h:outputLabel  for="event-viewoptions-som">
                                                            <h:outputText value="Filter" />
                                                        </h:outputLabel>
                                                    </div>
                                                    <div class="restrict-data-field-value-inline" >

                                                        <p:selectOneMenu    id="event-viewoptions-som"
                                                                            value="#{eventsBB.selectedEventView}"
                                                                            tabindex="10">

                                                            <f:selectItems  id="event-viewoptions-selitems"
                                                                            value="#{eventsBB.eventsViewOptionsCandidates}"
                                                                            var="vo"
                                                                            itemValue="#{vo}"
                                                                            itemLabel="#{vo.label}"/>
                                                            <p:ajax update="events-table"
                                                                    immediate="true"/>
                                                        </p:selectOneMenu>

                                                    </div>

                                                </div>
                                                <div class="restrict-main-contents-io-button">



                                                    <p:commandButton   id="print-event-list-report-cb" 
                                                                       ajax="true" actionListener="#{eventsBB.prepareEventReport}"
                                                                       icon="fa fa-print" styleClass="button"
                                                                       oncomplete="PF('report-event-diaglog-var').show()"
                                                                       value="prepare event report" 
                                                                       update="report-eventlist-form
                                                                       form-messages-global"/>

                                                </div>

                                                <div class="restrict-main-contents-io-button gray_button">

                                                    <p:commandButton   id="event-search-clear-button" 
                                                                       ajax="true" 
                                                                       actionListener="#{eventsBB.clearEventList}"
                                                                       icon="fa fa-eraser" 
                                                                       disabled="false"
                                                                       styleClass="button"
                                                                       value="clear results list" 
                                                                       update="event-list-panel
                                                                       form-messages-global"/>
                                                </div>
                                            </div>

                                            <p:dataTable
                                                id="events-table"
                                                var="e"
                                                rowKey="#{e.eventID}"
                                                value="#{eventsBB.eventList}"
                                                tableStyleClass="primeDataTable"
                                                resizableColumns="true"
                                                widgetVar="events-table-var"
                                                >
                                                <!--<p:ajax event="rowSelect" update="selectedRowLabel"/>-->

                                                <p:column width="4%">
                                                    <i class="material-icons"><h:outputText value="#{e.category.icon.materialIcon}"/></i>
                                                </p:column>

                                                <p:column width="4%" sortBy="#{e.domain.abbrev}"
                                                          >
                                                    <f:facet name="header">
                                                        <h:outputText value="Dom" />
                                                    </f:facet>
                                                    <h:outputText value="#{e.domain.abbrev}"/>
                                                </p:column>

                                                <p:column width="12%" sortBy="#{e.category.eventType.label}"
                                                          >
                                                    <f:facet name="header">
                                                        <h:outputText value="Category" />
                                                    </f:facet>
                                                    <div class="rowExpansion">
                                                        <h:outputText value="#{e.category.eventType.label}"/>
                                                        <p:spacer height="5px" />
                                                        <h:outputText value="#{e.category.eventCategoryTitle}"/>
                                                    </div>
                                                    <div class="rowExpansion">
                                                        <h:outputText value="#{e.property.address}"/>
                                                        <p:spacer height="5px" />
                                                        <h:outputText value="Case ID: #{e.cecase.caseID}"/>
                                                    </div>
                                                </p:column>

                                                <p:column width="9%" sortBy="#{e.timeStart}">
                                                    <f:facet name="header">
                                                        <h:outputText value="Date" />
                                                    </f:facet>
                                                    <div class="rowExpansion">
                                                        <h:outputText value="#{e.timeStart}"/>
                                                    </div>
                                                </p:column>

                                                <p:column width="4%" sortBy="#{e.eventID}">
                                                    <f:facet name="header">
                                                        <h:outputText value="ID" />
                                                    </f:facet>
                                                    <h:outputText value="#{e.eventID}"/>
                                                </p:column>



                                                <p:column width="8%" exportable="false">
                                                    <f:facet name="header">
                                                        <h:outputText value="Action" />
                                                    </f:facet>

                                                    <p:commandButton ajax="true" 
                                                                     actionListener="#{eventsBB.onObjectViewButtonChange(e)}"
                                                                     icon="#{e.eventID == eventsBB.currentEvent.eventID? 'fa fa-hand-o-right':'fa fa-tag'}"
                                                                     style="#{e.eventID == eventsBB.currentEvent.eventID ? 'background-color: #dee461; color:black; border:none;':''}"
                                                                     rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniReaderPermissions}"
                                                                     update="event-list-panel
                                                                     event-settings-panel
                                                                     event-search-panel
                                                                     event-search-log-panel
                                                                     event-profile-panel
                                                                     event-add-panel
                                                                     event-update-panel
                                                                     event-remove-panel
                                                                     event-notes-panel
                                                                     "

                                                                     />

                                                    <p:commandButton icon="fa fa-eye-slash"
                                                                     ajax="true"
                                                                     disabled="#{e.hidden}"
                                                                     rendered="#{systemServicesBB.bbSessionUser.keyCard.hasEnfOfficialPermissions}"
                                                                     actionListener="#{eventsBB.hideEvent(e)}" 
                                                                     update="event-list-panel
                                                                     form-messages-global"
                                                                     />
                                                    <p:commandButton icon="fa fa-eye"
                                                                     ajax="true"
                                                                     disabled="#{!e.hidden}"
                                                                     actionListener="#{eventsBB.unHideEvent(e)}" 
                                                                     rendered="#{systemServicesBB.bbSessionUser.keyCard.hasEnfOfficialPermissions}"
                                                                     update="event-list-panel
                                                                     form-messages-global"
                                                                     />

                                                </p:column>



                                            </p:dataTable>



                                        </h:form>


                                    </p:panel>

                                    <p:panel    id="event-search-panel"
                                                toggleable="true"
                                                style="width: 100%;"
                                                widgetVar="event-serach-panel-var"
                                                collapsed="false"
                                                rendered="true"
                                                header="Search tools" >

                                        <h:form id="event-search-form">
                                            <div class="ui-g data_container_nested_restrict">

                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field" >


                                                    <div class="restrict-data-field-label-inline" >

                                                        <h:outputLabel value="Select a query:" 
                                                                       for="eventquery-som" />
                                                    </div>

                                                    <div class="restrict-data-field-value-inline" >

                                                        <p:selectOneMenu id="eventquery-som" 
                                                                         tabindex="1" 
                                                                         value="#{eventsBB.querySelected}"
                                                                         style="margin-right: 10px;">
                                                            <f:converter converterId="bOBQueryConverter"/>
                                                            <f:selectItem itemLabel="select a query..." noSelectionOption="true" itemDisabled="true"/>
                                                            <f:selectItems id="querylist-si" value="#{eventsBB.queryList}" var="ql" itemValue="#{ql}" itemLabel="#{ql.queryTitle}" />
                                                            <p:ajax listener="#{eventsBB.changeQuerySelected}"
                                                                    update="form-messages-global
                                                                    @form
                                                                    "/>
                                                        </p:selectOneMenu>
                                                    </div>

                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field" >

                                                    <div class="restrict-main-contents-io-button">
                                                        <p:commandButton icon="fa fa-lightning"
                                                                         ajax="true"
                                                                         value="Execute Search"
                                                                         disabled="false"
                                                                         actionListener="#{eventsBB.executeQuery}" 
                                                                         update="event-list-panel
                                                                         event-search-log-panel
                                                                         form-messages-global"
                                                                         />

                                                    </div>

                                                    <div class="restrict-main-contents-io-button gray_button">
                                                        <p:commandButton   id="event-search-clear-cb" 
                                                                           ajax="true" 
                                                                           actionListener="#{eventsBB.resetQuery}"
                                                                           icon="fa fa-eraser" 
                                                                           styleClass="button inline-button"
                                                                           value="clear query" 
                                                                           disabled="#{!eventsBB.querySelected.queryExecuted}"
                                                                           update="form-messages-global
                                                                           @form
                                                                           event-search-log-form"/>

                                                    </div>


                                                    <div class="restrict-main-contents-io-button">
                                                        <p:commandLink id="textblock-manager-commandlink"
                                                                       value="Advanced search"
                                                                       type="button"
                                                                       update="event-search-advanced-dialog"
                                                                       oncomplete="PF('event-search-advanced-dialog-var').show()" />
                                                    </div>
                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field">

                                                    <div class="restrict-data-field-label-inline" >

                                                        <p:outputLabel for="event-search-appendresults-chkbox">
                                                            <h:outputText value="Append results to list? "/>
                                                        </p:outputLabel>

                                                    </div>
                                                    <div class="restrict-data-field-value-inline" >
                                                        <p:selectBooleanCheckbox   id="event-search-appendresults-chkbox" 
                                                                                   value="#{eventsBB.appendResultsToList}" >
                                                            <p:ajax />
                                                        </p:selectBooleanCheckbox>
                                                    </div>
                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field">



                                                    <div class="restrict-main-contents-io-button gray_button">
                                                        <p:commandButton   id="event-search-loadhistory-button" 
                                                                           ajax="true" 
                                                                           actionListener="#{eventsBB.loadEventHistory}"
                                                                           icon="fa fa-clock-o" 
                                                                           styleClass="button"
                                                                           value="load event history" 
                                                                           update="event-list-panel
                                                                           form-messages-global"/>
                                                    </div>
                                                    <div class="restrict-main-contents-io-button gray_button">
                                                        <p:commandButton  value="help" 
                                                                          onclick="PF('helpdlg').show()" 
                                                                          styleClass="noFill button-float-right" 
                                                                          icon="fa fa-question-circle"/>    
                                                    </div>
                                                </div>
                                            </div>

                                        </h:form>

                                    </p:panel>

                                    <p:panel  id="event-search-log-panel"
                                              toggleable="true"
                                              widgetVar="event-search-log-panel-var"
                                              collapsed="false"
                                              style="width:100%;"
                                              header="Query log">

                                        <h:form id="event-search-log-form">
                                            <div class='search-query-desc'>
                                                <h:outputText id="event-search-log-ot" 
                                                              value="#{eventsBB.querySelected.queryLog}"
                                                              escape="false"/>
                                            </div>
                                        </h:form>
                                    </p:panel>


                                </div>



                                <p:dialog   id="event-search-advanced-dialog"
                                            height="300" width="750"
                                            widgetVar="event-search-advanced-dialog-var"
                                            closable="true"
                                            header="Advanced search"
                                            rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniReaderPermissions}"
                                            >
                                    <h:form id="event-search-advanced-form">


                                        <div class="ui-g data_container_nested_restrict">


                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="event-filter-muni-ol" 
                                                                   for="seev-filter-muni-chkbx" 
                                                                   value="filter by municipality "/>

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="seev-filter-muni-chkbx" value="#{eventsBB.searchParamsSelected.muni_ctl}" >
                                                        <p:ajax update="event-search-muni-som"/>
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu id="event-search-muni-som" tabindex="1" value="#{eventsBB.searchParamsSelected.muni_val}"
                                                                     disabled="#{!eventsBB.searchParamsSelected.muni_ctl}">
                                                        <f:converter converterId="muniConverter"/>
                                                        <f:selectItem itemLabel="select municipality..." noSelectionOption="true" itemDisabled="true"/>
                                                        <f:selectItems id="muniNameList" value="#{systemServicesBB.municipalityListForSearch}" var="m" itemValue="#{m}" itemLabel="#{m.muniName}" />
                                                    </p:selectOneMenu>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">

                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="event-search-startend-chkbx-ol" 
                                                                   for="event-search-startend-chkbx" 
                                                                   value="filter by date range "/>

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="event-search-startend-chkbx" 
                                                                             value="#{eventsBB.searchParamsSelected.date_startEnd_ctl}" >
                                                        <p:ajax update="event-search-date-field-val
                                                                event-search-date-start-val
                                                                event-search-date-end-val
                                                                event-search-date-relative-ctl" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectOneMenu  id="event-search-date-field-val" 
                                                                      tabindex="1" 
                                                                      value="#{eventsBB.searchParamsSelected.date_field}"
                                                                      disabled="#{!eventsBB.searchParamsSelected.date_startEnd_ctl}">
                                                        <f:selectItem itemLabel="select a date field..." 
                                                                      noSelectionOption="true" 
                                                                      itemDisabled="true"/>
                                                        <f:selectItems id="event-search-date-field-val-items" 
                                                                       value="#{eventsBB.searchParamsSelected.dateFieldList}" 
                                                                       var="f" itemValue="#{f}" itemLabel="#{f.title}" />
                                                    </p:selectOneMenu>

                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                    <p:outputLabel for="event-search-date-start-val" 
                                                                   value="start date"/>

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:datePicker 	id="event-search-date-start-val" 
                                                                   value="#{eventsBB.searchParamsSelected.startDate_val}" 
                                                                   disabled="#{(!eventsBB.searchParamsSelected.date_startEnd_ctl) or eventsBB.searchParamsSelected.date_relativeDates_ctl}"
                                                                   rendered="true"
                                                                   style="width: 100%;"
                                                                   pattern="MM/dd/yyyy HH:mm"
                                                                   hideOnDateTimeSelect="true"
                                                                    showOnFocus="false"
                                                                    showIcon="true"
                                                                   disabled="false"
                                                                   showButtonBar="true"
                                                                   mask="true"
                                                                   timeInput="true" 
                                                                   required="true" />


                                                    <h:message for="event-search-date-start-val" showDetail="false" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                    <p:outputLabel for="event-search-date-end-val" 
                                                                   value="end date"/>

                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:datePicker id="event-search-date-end-val" 
                                                                  value="#{eventsBB.searchParamsSelected.endDate_val}" 
                                                                  disabled="#{(!eventsBB.searchParamsSelected.date_startEnd_ctl) or eventsBB.searchParamsSelected.date_relativeDates_ctl}"
                                                                  rendered="true"
                                                                  style="width: 100%;"
                                                                  pattern="MM/dd/yyyy HH:mm"
                                                                  disabled="false"
                                                                  hideOnDateTimeSelect="true"
                                                                showOnFocus="false"
                                                                showIcon="true"
                                                                  showButtonBar="true"
                                                                  mask="true"
                                                                  timeInput="true" 
                                                                  required="true" />

                                                    <h:message for="event-search-date-end-val" showDetail="false" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                    <p:outputLabel for="event-search-date-relative-ctl" 
                                                                   value="Relative dates"
                                                                   styleClass="datum-label"/>

                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectBooleanCheckbox id="event-search-date-relative-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.date_relativeDates_ctl}" 
                                                                             disabled="#{!eventsBB.searchParamsSelected.date_startEnd_ctl}">
                                                        <p:ajax update="event-search-date-end-val
                                                                event-search-date-start-val
                                                                event-search-date-end-val
                                                                event-search-date-relative-start-val
                                                                event-search-date-relative-end-val" />
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>


                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-date-relative-start-val" 
                                                                   value="start x days from today"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="event-search-date-relative-start-val" 
                                                                 value="#{eventsBB.searchParamsSelected.date_relativeDates_start_val}" 
                                                                 disabled="#{!(eventsBB.searchParamsSelected.date_startEnd_ctl and eventsBB.searchParamsSelected.date_relativeDates_ctl)}" />
                                                    <h:message for="event-search-date-relative-start-val" showDetail="false" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>


                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-date-relative-end-val" 
                                                                   value="end x days from today"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="event-search-date-relative-end-val" 
                                                                 value="#{eventsBB.searchParamsSelected.date_realtiveDates_end_val}" 
                                                                 disabled="#{!(eventsBB.searchParamsSelected.date_startEnd_ctl and eventsBB.searchParamsSelected.date_relativeDates_ctl)}" />
                                                    <h:message for="event-search-date-relative-end-val" showDetail="false" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>


                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                    <p:outputLabel for="event-search-filter-id-ctl" 
                                                                   value="filter by event id"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectBooleanCheckbox id="event-search-filter-id-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.bobID_ctl}"
                                                                             disabled="false">
                                                        <p:ajax update="event-search-filter-id-val" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-filter-id-val" 
                                                                   value="id:" />
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="event-search-filter-id-val"
                                                                 type="number"
                                                                 value="#{eventsBB.searchParamsSelected.bobID_val}"
                                                                 disabled="#{!eventsBB.searchParamsSelected.bobID_ctl}"/>

                                                    <h:message for="event-search-filter-id-val" showDetail="false" showSummary="true"
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-filter-user-ctl" 
                                                                   value="User filter"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >



                                                    <p:selectBooleanCheckbox id="event-search-filter-user-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.user_ctl}"
                                                                             disabled="#{!(eventsBB.searchParamsSelected.user_rtMin.rank lt systemServicesBB.bbSessionUser.keyCard.governingAuthPeriod.role.rank)}">
                                                        <p:ajax update="event-search-filter-user-som
                                                                event-search-user-field-val" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:selectOneMenu  id="event-search-user-field-val" 
                                                                      tabindex="1" 
                                                                      value="#{eventsBB.searchParamsSelected.user_field}"
                                                                      disabled="#{!eventsBB.searchParamsSelected.user_ctl}">
                                                        <f:selectItem itemLabel="select a user field..." 
                                                                      noSelectionOption="true" 
                                                                      itemDisabled="true"/>
                                                        <f:selectItems id="event-search-user-field-val-items" 
                                                                       value="#{eventsBB.searchParamsSelected.userFieldList}" 
                                                                       var="uf" itemValue="#{uf}" itemLabel="#{uf.title}" />
                                                    </p:selectOneMenu>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu id="event-search-filter-user-som" required="false" 
                                                                     value="#{eventsBB.searchParamsSelected.user_val}"
                                                                     disabled="#{!eventsBB.searchParamsSelected.user_ctl}">
                                                        <f:selectItem itemLabel="select a user..." noSelectionOption="true" />
                                                        <f:selectItems value="#{systemServicesBB.userListForSearch}"  var="u" itemValue="#{u}" 
                                                                       itemLabel="#{u.pehumanirstName} #{u.persohumanName} (id:#{u.username})"/>
                                                        <f:converter converterId="userConverter"/>
                                                    </p:selectOneMenu>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-filter-domain-ctl" 
                                                                   value="User filter"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >


                                                    <p:selectBooleanCheckbox id="event-search-filter-domain-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.eventDomain_ctl}"
                                                                             disabled="#{!(eventsBB.searchParamsSelected.user_rtMin.rank lt systemServicesBB.bbSessionUser.keyCard.governingAuthPeriod.role.rank)}">
                                                        <p:ajax update="event-search-filter-domain-val" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectOneMenu  id="event-search-filter-domain-val" 
                                                                      tabindex="1" 
                                                                      value="#{eventsBB.searchParamsSelected.eventDomain_val}"
                                                                      disabled="#{!eventsBB.searchParamsSelected.eventDomain_ctl}">
                                                        <f:selectItem itemLabel="select an event domain..." 
                                                                      noSelectionOption="true" 
                                                                      itemDisabled="true"/>
                                                        <f:selectItems id="event-search-filter-domain-items" 
                                                                       value="#{eventsBB.searchParamsSelected.eventDomainList}" 
                                                                       var="ed" itemValue="#{ed}" itemLabel="#{ed.title}" />
                                                        <f:converter converterId="eventDomainConverter" />
                                                    </p:selectOneMenu>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="event-filter-property-ol" 
                                                                   for="event-filter-property" 
                                                                   value="filter by property "/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectBooleanCheckbox id="event-filter-property" value="#{eventsBB.searchParamsSelected.property_ctl}" >
                                                        <p:ajax update="event-criteria-property-som" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectOneMenu id="event-criteria-property-som" required="false" 
                                                                     value="#{eventsBB.searchParamsSelected.property_val}"
                                                                     disabled="#{!eventsBB.searchParamsSelected.property_ctl}">

                                                        <f:selectItem itemLabel="select a propery..." noSelectionOption="true" />
                                                        <f:selectItems value="#{systemServicesBB.propertyListForSearch}"  var="prop" itemValue="#{prop}" 
                                                                       itemLabel="#{prop.addressString} (#{prop.muni.muniName})"/>
                                                        <f:converter converterId="propertyConverter"/>

                                                    </p:selectOneMenu>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-filter-usetype-ctl" 
                                                                   value="Property use type filter"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="event-search-filter-usetype-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.propertyUseType_ctl}"
                                                                             disabled="false">
                                                        <p:ajax update="event-search-filter-usetype-val" />
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu    id="event-search-filter-usetype-val" 
                                                                        tabindex="1" 
                                                                        value="#{eventsBB.searchParamsSelected.propertyUseType_val}" 
                                                                        disabled="#{!eventsBB.searchParamsSelected.propertyUseType_ctl}">
                                                        <f:selectItem   itemLabel="select a use type..." noSelectionOption="true" itemDisabled="true"/>
                                                        <f:selectItems  id="event-search-filter-usetype-items" 
                                                                        value="#{eventsBB.propUseTypeList}" 
                                                                        var="put" itemValue="#{put}" itemLabel="#{put.name}" />
                                                        <f:converter    converterId="propertyUseTypeConverter"/>
                                                    </p:selectOneMenu>
                                                    <h:message for="event-search-filter-usetype-val" showDetail="true" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="event-filter-person-ol" 
                                                                   for="event-criteria-person-val" 
                                                                   value="filter by person"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >



                                                    <p:selectBooleanCheckbox id="event-filter-person-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.person_ctl}" >
                                                        <p:ajax update="event-criteria-person-val" />
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu id="event-criteria-person-val" required="false" 
                                                                     value="#{eventsBB.searchParamsSelected.person_val}"
                                                                     disabled="#{!eventsBB.searchParamsSelected.person_ctl}">

                                                        <f:selectItem itemLabel="select a person..." noSelectionOption="true" />
                                                        <f:selectItems value="#{systemServicesBB.personListForSearch}"  var="p" itemValue="#{p}" 
                                                                       itemLabel="#{p.firstName} #{p.lastName} (ID:#{p.personID})"/>
                                                        <f:converter converterId="personConverter"/>

                                                    </p:selectOneMenu>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                    <p:outputLabel for="event-search-filter-active-ctl" 
                                                                   value="filter by active"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="event-search-filter-active-ctl" 
                                                                             value="#{eventsBB.searchParamsSelected.active_ctl}"
                                                                             disabled="false">
                                                        <p:ajax update="event-search-filter-active-val" />
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel for="event-search-filter-active-val" 
                                                                   value="is active"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="event-search-filter-active-val" 
                                                                             value="#{eventsBB.searchParamsSelected.active_val}"
                                                                             disabled="#{!eventsBB.searchParamsSelected.active_ctl}">
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="event-query-limit-ol" 
                                                                   for="event-query-limit" 
                                                                   value="limit results"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectBooleanCheckbox id="event-query-limit" 
                                                                             value="#{eventsBB.searchParamsSelected.limitResultCount_ctl}" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="event-filter-limit-it"
                                                                 type="number"
                                                                 value="#{eventsBB.searchParamsSelected.limitResultCount_val}"
                                                                 disabled="#{!eventsBB.searchParamsSelected.limitResultCount_ctl}"/>
                                                    <h:message for="event-filter-limit-it" showDetail="false" showSummary="true"
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="seev-filter-type-ol" for="seev-filter-type" value="filter by event type"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectBooleanCheckbox id="seev-filter-type" 
                                                                             value="#{eventsBB.searchParamsSelected.eventType_ctl}">
                                                        <p:ajax update="ceev-critera-type" />
                                                    </p:selectBooleanCheckbox>

                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu id="ceev-critera-type" required="false" 
                                                                     value="#{eventsBB.searchParamsSelected.eventType_val}" tabindex="10"
                                                                     disabled="#{!eventsBB.searchParamsSelected.eventType_ctl}">
                                                        <f:selectItem itemLabel="select an event type..." noSelectionOption="true" />
                                                        <p:ajax update="ceev-criteria-cat" immediate="true"/> 
                                                        <f:selectItems value="#{eventsBB.eventTypesList}"/>
                                                    </p:selectOneMenu>
                                                    <h:message for="ceev-critera-type" showDetail="false" showSummary="true" 
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <p:outputLabel id="ceev-filter-cat-ol" for="ceev-filter-cat" value="filter by event category "/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >

                                                    <p:selectBooleanCheckbox id="ceev-filter-cat" value="#{eventsBB.searchParamsSelected.eventCat_ctl}">
                                                        <p:ajax update="ceev-criteria-cat" />
                                                    </p:selectBooleanCheckbox>
                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-6 restrict-data-field">


                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel for="ceev-criteria-cat" id="ceev-criteria-cat-ol">
                                                        <h:outputText value="event Categories in selected event type:"/>
                                                    </h:outputLabel>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:selectOneMenu id="ceev-criteria-cat" style="width: 300px;" 
                                                                     value="#{eventsBB.searchParamsSelected.eventCat_val}" tabindex="10"
                                                                     disabled="#{!eventsBB.searchParamsSelected.eventCat_ctl}">
                                                        <f:selectItem itemLabel="select an event category..." noSelectionOption="true" />
                                                        <f:converter converterId="eventCategoryConverter"/>
                                                        <f:selectItems  id="catItemsList" value="#{eventsBB.eventCatList}" var="ec" itemValue="#{ec}" itemLabel="#{ec.eventCategoryTitle}"/>
                                                    </p:selectOneMenu>
                                                    <h:message for="ceev-criteria-cat" showDetail="false" showSummary="true"  
                                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field">
                                                <div class="restrict-main-contents-io-button gray_button">

                                                    <p:commandButton ajax="true" 
                                                                     immediate="true"
                                                                     process="@none"
                                                                     value="Cancel" 
                                                                     icon="fa fa-stop" 
                                                                     onclick="PF('event-search-advanced-dialog-var').hide()"/>
                                                </div>

                                                <div class="restrict-main-contents-io-button">
                                                    <p:commandButton    id="execute-selected-query" 
                                                                        ajax="true"
                                                                        value="perform selected query" 
                                                                        actionListener="#{eventsBB.runQuery}"
                                                                        disabled="#{eventsBB.querySelected.queryExecuted}"
                                                                        icon="fa fa-flash"
                                                                        oncomplete="PF('event-search-advanced-dialog-var').hide()"
                                                                        update="event-settings-panel
                                                                        event-list-panel
                                                                        form-messages-global
                                                                        event-search-log-form
                                                                        "/>
                                                </div>
                                            </div>
                                        </div>

                                    </h:form>

                                </p:dialog>


                                <p:dialog header="Building activity reports" 
                                          widgetVar="helpdlg"
                                          responsive="true"
                                          width="80%">
                                    <h1>Steps to building an activity report:</h1>
                                    <h2>1. Choose a pre-built query</h2>

                                    <p>Events are selected from the database through a query, which is made up of many parameters
                                        (i.e. criteria) which define which events to retrieve. A set of pre-made queries are designed
                                        to speed up the reporting process. Browse those pre-built queries with the drop-down box and then click
                                        "perform selected query" to see the results. </p>


                                    <p>The list view is more compact and reflects what is printed in event reports. The data table view contains exactly the same
                                        <br /> events but with more complete info for in-depth analysis.</p>


                                    <h2>2. Trim your event list by hiding events</h2>

                                    <p>After performing the query, hide any unwanted events from the results using the 
                                        "hide event" button with the moon icon located on the right side of each event's display box.
                                        A hidden event is not displayed in your final report, but is still attached to the code enforcement case
                                        and can be viewed in the case's event history.</p>

                                    <p>NOTE: Hiding an event on this page for report generation ALSO hides the event when viewing the event history 
                                        for that event's respective case. You can always un-hide an event by toggling the "view hidden events" switch
                                        underneath the event history table in the case manager. </p>

                                    <h2>3. Customize your query</h2>
                                    <p>Expand the search options to customize your query. The query controls are automatically updated to match 
                                        the pre-built queries in the drop-down list above, allowing you to start with the settings associated with
                                        a pre-built query and then tune the results to fit your needs.</p>

                                    <p>For example, pre-built queries are pre-set to useful date ranges for searching, such as events that occurred in
                                        the past month or events about to occur in the next week. By first performing a pre-built query which produces 
                                        events you're interested in but over undesirable date range, you can just change the specified date range in the
                                        customized query parameters to arrive at your desired output.</p>

                                    <h2>4. Preparing and generating an event report</h2>

                                    <p>The button labeled "prepare event report" pops up a settings window to configure an event report based on the currently
                                        visible events in your list. Additional guidance is provided for each setting inside that dialog box. Remember: the report
                                        is generated based on only the events you can see in your result list; hidden events are not included.</p>


                                </p:dialog>



                                <p:dialog  id="ceevents-configure-report-dialog"
                                           widgetVar="report-event-diaglog-var"
                                           closable="true" responsive="true"
                                           dynamic="true"
                                           rendered="#{sessionBeasessionUserer.keyCard.hasMuniReaderPermissions}">

                                    <h:form id="events-reportconfig-messages-form">
                                        <h:messages id="ceev-messages-in-report-dialog" globalOnly="true" showDetail="false" showSummary="true"
                                                    warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError">
                                        </h:messages>
                                    </h:form>

                                    <h:form id="report-eventlist-form">
                                        <div class="ui-g data_container_nested_restrict">
                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel for="report-case-profile-title-it" 
                                                                   value="Report title"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="report-case-profile-title-it" style="width: 300px;" value="#{eventsBB.reportConfig.title}"/>
                                                    <p:spacer height="5px" />
                                                    <h:outputText styleClass="italic" value="note: your name and the current date and time will be automatically inserted" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel for="report-case-profile-notes-ita" value="Notes"/>
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputText id="report-case-profile-notes-ita" style="width: 300px; height: 100px;" value="#{eventsBB.reportConfig.notes}"/>
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-12 ui-lg-12 restrict-data-field">
                                                <h2>Event display options</h2>

                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Sort events: " 
                                                                   for="sort-reverse-chrono-is" />
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="sort-reverse-chrono-is"
                                                                    value="#{eventsBB.reportConfig.sortInRevChrono}" 
                                                                    onLabel="Reverse chrono (newest first)" 
                                                                    offLabel="Timeline order (oldest first)" />

                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Include persons attached to events" 
                                                                   for="include-attached-persons-is" />
                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="include-attached-persons-is"
                                                                    value="#{eventsBB.reportConfig.includeAttachedPersons}" 
                                                                    onLabel="Yes" offLabel="No" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Include event summary chart on page 1" 
                                                                   for="include-event-summary-chart-is" />

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="include-event-summary-chart-is"
                                                                    value="#{eventsBB.reportConfig.includeEventTypeSummaryChart}" 
                                                                    onLabel="Yes" offLabel="No" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Include list of all active cases" 
                                                                   for="include-active-case-list-is" />

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="include-active-case-list-is"
                                                                    value="#{eventsBB.reportConfig.includeActiveCaseListing}" 
                                                                    onLabel="Yes" offLabel="No" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Include info about events requesting user action" 
                                                                   for="include-action-requests-is" />

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="include-action-requests-is"
                                                                    value="#{eventsBB.reportConfig.includeCaseActionRequestInfo}" 
                                                                    onLabel="Yes" offLabel="No" />
                                                </div>
                                            </div>

                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">
                                                <div class="restrict-main-contents-io-title" >
                                                    <h:outputLabel value="Include complete query parameters" 
                                                                   for="include-queryparams-is" />

                                                </div>

                                                <div class="restrict-main-contents-io-content" >
                                                    <p:inputSwitch  id="include-queryparams-is"
                                                                    value="#{eventsBB.reportConfig.includeCompleteQueryParamsDump}" 
                                                                    onLabel="Yes" offLabel="No" />

                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-md-6 ui-lg-4 restrict-data-field">

                                                <div class="restrict-main-contents-io-button gray_button">

                                                    <p:commandButton ajax="true" 
                                                                     value="Cancel" icon="fa fa-stop" 
                                                                     onclick="PF('report-event-diaglog-var').hide()"/>
                                                </div>

                                                <div class="restrict-main-contents-io-button">
                                                    <p:commandButton ajax="false" action="#{eventsBB.generateEventReport}"
                                                                     value="Generate report" icon="fa fa-print" 
                                                                     rendered="#{sessionBsessionUserUser.keyCard.hasMuniReaderPermissions}"
                                                                     />
                                                </div>

                                            </div>
                                        </div>

                                    </h:form>
                                </p:dialog>
                                </f:view>
                                </ui:define>
                                </ui:composition>
                                </h:body>
                                </html>


