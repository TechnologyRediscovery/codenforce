<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <link rel="stylesheet" type="text/css" href="css/style.css"></link>
        <title>Municipality Manager</title>
    </h:head>
    <h:body>
        <ui:composition template="../navContainer_restricted.xhtml">
            <ui:define name="content">
                <div class="mainContainer">
                    <h:messages globalOnly="true" showDetail="true" showSummary="true"
                                    warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError">
                    </h:messages>
                            
                    <h1>Manage municipality ID#: <h:outputText value="#{municipalityManageBB.currentMuni.muniCode}"/> </h1>
                    <f:view>
                        <h:form id="muniManageForm">
                            
                            
                            <p:panelGrid columns="4" layout="grid"
                                columnClasses="gridTd, gridTd, gridTd, gridTd">
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Name:" for="nameIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="nameIT" value="#{municipalityManageBB.currentMuni.muniName}" 
                                                 style="width: 250px;" tabindex="1" required="true" styleClass="inputText" type="text"/>
                                    <h:message for="nameIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Address street:" for="streetIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="streetIT" value="#{municipalityManageBB.currentMuni.address_street}" 
                                                 style="width: 250px;" tabindex="2" required="true" styleClass="inputText" type="text"/>
                                    <h:message for="streetIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Address city:" for="cityIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="cityIT" value="#{municipalityManageBB.currentMuni.address_city}" 
                                                 style="width: 250px;" tabindex="3" required="true" styleClass="inputText" type="text"/>
                                    <h:message for="cityIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="State abbrev:" for="stateIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="stateIT" value="#{municipalityManageBB.currentMuni.address_state}" 
                                                 style="width: 250px;" tabindex="4" required="true" styleClass="inputText" type="text"/>
                                    <h:message for="stateIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="ZIPcode:" for="zipIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="zipIT" value="#{municipalityManageBB.currentMuni.address_zip}" 
                                                 style="width: 250px;" tabindex="5" required="true" styleClass="inputText"/>
                                    <h:message for="zipIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Office phone:" for="phoneIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="phoneIT" value="#{municipalityManageBB.currentMuni.phone}" 
                                                 style="width: 250px;" tabindex="6" required="true" styleClass="inputText"/>
                                    <h:message for="phoneIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Office fax:" for="faxIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="faxIT" value="#{municipalityManageBB.currentMuni.fax}" 
                                                 style="width: 250px;" tabindex="7" required="false" styleClass="inputText"/>
                                    <h:message for="faxIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="General email:" for="emailIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="emailIT" value="#{municipalityManageBB.currentMuni.email}" 
                                                 style="width: 250px;" tabindex="8" required="false" styleClass="inputText"/>
                                    <h:message for="emailIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Manager name:" for="managerNameIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="managerNameIT" value="#{municipalityManageBB.currentMuni.managerName}" 
                                                 style="width: 250px;" tabindex="9" required="true" styleClass="inputText"/>
                                    <h:message for="managerNameIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Manager phone:" for="managerPhoneIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="managerPhoneIT" value="#{municipalityManageBB.currentMuni.managerPhone}" 
                                                 style="width: 250px;" tabindex="10" required="false" styleClass="inputText"/>
                                    <h:message for="managerPhoneIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Population:" for="populationIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="populationIT" value="#{municipalityManageBB.currentMuni.population}" 
                                                 style="width: 250px;" tabindex="11" required="false" styleClass="inputText"/>
                                    <h:message for="populationIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Active in program:" for="activeCB"/>
                                    <p:spacer height="5px"/>
                                    <p:selectBooleanCheckbox id="activeCB" value="#{municipalityManageBB.currentMuni.activeInProgram}" 
                                                 style="width: 250px;" tabindex="12" required="false" styleClass="inputText"/>
                                </h:panelGroup>
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Default codeset ID:" for="defaultCodesetIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="defaultCodesetIT" value="#{municipalityManageBB.currentMuni.defaultCodeSetID}" 
                                                 style="width: 250px;" tabindex="13" required="true" styleClass="inputText"/>
                                    <h:message for="defaultCodesetIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                             
                                <h:panelGroup>
                                    <h:outputLabel value="Permit issuing code source ID:" for="issuingCodeSourceIT"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="issuingCodeSourceIT" value="#{municipalityManageBB.currentMuni.issuingPermitCodeSourceID}" 
                                                 style="width: 250px;" tabindex="14" required="true" styleClass="inputText"/>
                                    <h:message for="issuingCodeSourceIT" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                                <h:panelGroup>
                                    <h:outputLabel value="Default court entity:" for="court-entity-som"/>
                                    <p:selectOneMenu id="court-entity-som" required="true" value="#{municipalityManageBB.currentMuni.defaultCourtEntity}">
                                        <f:converter converterId="courtEntityConverter"/>
                                        <f:selectItems value="#{citationBB.courtEntityList}"
                                                       var="ce" itemValue="#{ce}" itemLabel="#{ce.courtEntityName} (id: #{ce.courtEntityID})"/>
                                    </p:selectOneMenu>
                                    
                                    <h:message for="courtEntityMenu" showDetail="false" showSummary="true" 
                                    warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                
                              
                                
                                <h:panelGroup>
                                    <h:outputLabel value="Default code officer:" for="code-officer-som"/>
                                    <p:selectOneMenu id="code-officer-som" required="true" value="#{municipalityManageBB.currentMuni.defaultCodeOfficerUser}">
                                        <f:converter converterId="userConverter"/>
                                        <f:selectItems value="#{municipalityManageBB.codeOfficerUserList}"
                                                       var="ceo" itemValue="#{ceo}" itemLabel="#{ceo.username} (id: #{ceo.userID})"/>
                                    </p:selectOneMenu>
                                    
                                </h:panelGroup>
                                
                                <h:panelGroup>
                                    <h:outputLabel value="Default Notice of Violation Style" for="nov-style-som"/>
                                    <p:selectOneMenu id="nov-style-som" required="true" value="#{municipalityManageBB.currentMuni.defaultNOVStyleID}">
                                        <f:selectItems value="#{municipalityManageBB.styleMap}"/>
                                    </p:selectOneMenu>
                                </h:panelGroup>
                                
                            </p:panelGrid>
                            
                            <p:spacer height="15px" />
                            
                            <p:commandButton    id="munimanage-cancel-cb"
                                                ajax="false" action="ceCases" icon="fa fa-stop"
                                                value="Cancel" tabindex="15"/>
                            
                            <p:commandButton    id="munimanage-updatemuni-cb" icon="fa fa-edit"
                                                ajax="false" action="#{municipalityManageBB.updateMuni()}"
                                                value="Update municipality record" tabindex="16"/>


                        </h:form>
                    </f:view>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

