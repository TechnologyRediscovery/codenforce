<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <link rel="stylesheet" type="text/css" href="css/style.css"></link>
        <title>Manage code enforcement case</title>
    </h:head>
    <h:body>
        <ui:composition template="/restricted/navContainer_restricted.xhtml">
            <ui:define name="content">
                <f:view id="cecase-workflow-view">

                    <div class="mainContainer">
                        
                        <h:form id="case-profile-messages-form">
                            <h:messages id="case-profile-messages-global"
                                        globalOnly="true" showDetail="true" showSummary="true"
                                        warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError">
                            </h:messages>
                        </h:form>
                        
                        <h:panelGrid columns="2" cellpadding="10" styleClass="object-info-box" footerClass="gridFooter"
                                  columnClasses="gridTd, gridTd">
                        <h:panelGroup>

                            <p:panel    id="cecase-workflow-cecasestatus"
                                        toggleable="true"
                                        widgetVar="cecase-workflow-cecasestatus-var"
                                        collapsed="false"
                                        header="Status">

                                <h:form id="case-details-form">
                                    <div class="outlinedBox">

                                        <h1>
                                            <h:outputText id="header-type-ot" value="#{ceCaseWorkflowBB.currentCase.caseName} | "/> 
                                            <h:outputText id="header-id-ot" value="Case ID: #{ceCaseWorkflowBB.currentCase.caseID}"/><br />
                                        </h1>
                                        <h2>
                                            <h:outputText id="header-addr-ot" value="#{ceCaseWorkflowBB.currentCase.property.address} "/>  
                                            <h:outputText id="header-muni-ot" value="(#{ceCaseWorkflowBB.currentCase.property.muni.muniName})"/>  
                                            <h:outputText id="header-propid-ot" value=" Prop ID: #{ceCaseWorkflowBB.currentCase.property.propertyID}"/>  
                                            <h:outputText id="header-lob-ot" value=" | Lot-block: #{ceCaseWorkflowBB.currentCase.property.lotAndBlock}"/>  
                                        </h2>


                                        <p:commandButton    id="view-property-cb" 
                                                            ajax="false" 
                                                            action="#{cECaseWorkflowBB.exploreProperty}"
                                                            icon="fa fa-home" 
                                                            styleClass="noFill button-size-small"
                                                            rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniReaderPermissions}"
                                                            value="view property profile" />

                                        <p>
                                            <a href="#action-requests">proposals <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.proposalList.size()})" /> </a> | 
                                            <a href="#add-event">new event</a> | 

                                            <ui:remove>

                                            <a href="#event-history">event history <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.visibleEventList.size()})" /></a> | 
                                            </ui:remove>


                                            <a href="#violations">violations <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.violationList.size()})" /></a> | 
                                            <a href="#notices">notices <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.noticeList.size()})" /></a> | 
                                            <a href="#citations">citations <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.citationList.size()})" /></a> | 
                                            <a href="#requests">enforcement requests <h:outputText value=" (#{ceCaseWorkflowBB.currentCase.ceActionRequestList.size()})" /></a>  
                                        </p>


                                        <h:panelGrid columns="2" cellpadding="10" styleClass="object-info-box" footerClass="gridFooter"
                                                     columnClasses="gridTd, gridTd">
                                            <h:panelGroup>
                                                <h:outputLabel styleClass="bold" value="Case Status: #{ceCaseWorkflowBB.currentCase.casePhase.caseOpen ? 'Open' : 'Closed'}" />
                                                <div class="status-display-container">
                                                    <div class="status-display-icon-container #{ceCaseWorkflowBB.styleClassStatusIcon}">
                                                        <i class="material-icons status-display-icon-i"><h:outputText id="status-display-icon-ot" value="#{ceCaseWorkflowBB.currentCase.casePhaseIcon.materialIcon}"/></i>
                                                    </div>
                                                    <div class="status-display-status-list-container">
                                                        <ul class="status-list">

                                                            <li><h:outputText value="Stage 1: Investigation" styleClass="#{ceCaseWorkflowBB.styleClassInvestigation}"/></li>
                                                            <li><h:outputText value="Stage 2: Enforcement" styleClass="#{ceCaseWorkflowBB.styleClassEnforcement}"/></li>
                                                            <li><h:outputText value="Stage 3: Citation" styleClass="#{ceCaseWorkflowBB.sytleClassCitation}"/></li>
                                                            <li><h:outputText value="Closed" styleClass="#{ceCaseWorkflowBB.sytleClassClosed}"/></li>
                                                        </ul>
                                                    </div>

                                                </div>
                                            </h:panelGroup>      
                                            <h:panelGroup>
                                                <h:outputLabel styleClass="bold" value="Opening Date: "/>
                                                <h:outputText id="selcase-odate-it" value="#{ceCaseWorkflowBB.currentCase.originiationDatePretty}"/>
                                                <h:outputText id="selcase-age-it" 
                                                              value=" (#{ceCaseWorkflowBB.currentCase.caseAge} days ago)" 
                                                              rendered="#{empty ceCaseWorkflowBB.currentCase.closingDate}"/>
                                                <p:spacer height="5px"/>
                                                <h:outputLabel styleClass="bold" value="Closing Date: "/>
                                                <h:outputText id="selcase-cdate-it" value="#{ceCaseWorkflowBB.currentCase.closingDatePretty}"/>
                                                <p:spacer height="5px"/>
                                                <h:outputLabel styleClass="bold" value="Case Manager: "/>
                                                <h:outputText id="selcase-manager-it" 
                                                              value="#{ceCaseWorkflowBB.currentCase.caseManager.person.firstName} 
                                                              #{ceCaseWorkflowBB.currentCase.caseManager.person.lastName} 
                                                              (#{ceCaseWorkflowBB.currentCase.caseManager.username})"/>  
                                                <p:spacer height="5px"/>
                                                <h:outputLabel styleClass="bold" value="Case Phase: "/>
                                                <h:outputText id="casephase-ot" value="#{ceCaseWorkflowBB.currentCase.casePhase.label}"/>
                                            </h:panelGroup>      

                                            <f:facet name="footer" class="leftalign">
                                                <h:outputLabel styleClass="bold" value="Case notes: "/>
                                                <div class="rowExpansion">

                                                    <h:outputText id="selcase-notes-ot" value="#{ceCaseWorkflowBB.currentCase.notes}"/>
                                                </div>

                                                <p:spacer height="5px"/>



                                            </f:facet>
                                        </h:panelGrid>

                                        <p:commandButton    id="refresh-case-cb" 
                                                            ajax="true" actionListener="#{ceCaseWorkflowBB.refreshCurrentCase}"
                                                            icon="fa fa-refresh" styleClass="noFill"
                                                            value="reload current case data" 
                                                            update="
                                                            case-details-form

                                                            "
                                                            />

                                        <p:commandButton    id="case-settings-cb" 
                                                            ajax="true" disabled="true"
                                                            icon="fa fa-gears" styleClass="noFill"
                                                            value="case settings" />

                                        <p:commandButton    id="overridephase-cb" 
                                                            ajax="true"
                                                            immediate="true"
                                                            value="change stage"
                                                            onclick="PF('phase-override').show()"
                                                            icon="fa fa-tachometer" styleClass="noFill"
                                                            rendered="#{systemServicesBB.bbSessionUser.keyCard.hasEnfOfficialPermissions}"
                                                            update="casePhaseChangeForm"
                                                            />
                                        <p:commandButton   id="print-case-cb" 
                                                           ajax="true" actionListener="#{ceCaseWorkflowBB.prepareReportCECase}"
                                                           icon="fa fa-print" styleClass="noFill"
                                                           oncomplete="PF('report-case-profile-diaglog-var').show()"
                                                           value="print case profile" 
                                                           update="report-case-profile-form"/>


                                    </div>

                                </h:form>

                            </p:panel>

                        </h:panelGroup>
                        <h:panelGroup>
                                
                                <p:panel id="cecase-panel-proposals"
                                         toggleable="true"
                                         widgetVar="cecase-panel-proposals-var"
                                         collapsed="false"
                                         header="Tasks and notices">

                                    <h:form id="cecase-panel-proposals-messages-form">
                                        <h:messages id="cecase-panel-proposals-messages" globalOnly="true" showDetail="true" showSummary="true"
                                                    warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError">
                                        </h:messages>
                                    </h:form>
                                    <h:form id="cecase-form-proposals">

                                        <p:commandButton    id="proposal-button-propmetadata"
                                                            ajax="true"
                                                            value="proposals settings"
                                                            styleClass="noFill button-size-small"
                                                            actionListener="#{ceCaseWorkflowBB.proposals_initiateViewPropMetadata(proposal)}"
                                                            oncomplete="PF('cecase-dialog-proposalmetadata-var').show()"
                                                            icon="fa fa-gears"
                                                            update="cecase-dialog-proposalmetadata-form-messages
                                                            periodmetadata-form-proposalsconfig

                                                            "/>

                                        <h:outputLabel styleClass="ui-label" for="cecase-viewoptionsproposals-solb">
                                            <h:outputText value="proposal list view options: "/>
                                        </h:outputLabel>

                                        <p:selectOneMenu style="width: 300px;" 
                                                         id="cecase-viewoptionsproposals-solb" 
                                                         value="#{ceCaseWorkflowBB.selectedProposalsViewOption}" 
                                                         tabindex="10">

                                            <p:ajax update="proposals-proposalscroller"                                                           
                                                    immediate="true"/>
                                            <f:selectItems  id="cecase-viewoptionsproposals-selitems" 
                                                            value="#{ceCaseWorkflowBB.proposalsViewOptions}" 
                                                            var="pvo" 
                                                            itemValue="#{pvo}" 
                                                            itemLabel="#{pvo.label}"/>
                                        </p:selectOneMenu>

                                        <h:message for="cecase-viewoptionsproposals-solb" showDetail="false" showSummary="true"  
                                                   warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />


                                        <p:dataScroller id="proposals-proposalscroller"
                                                        var="proposal"
                                                        widgetVar="proposals-proposalscroller-var"
                                                        value="#{ceCaseWorkflowBB.currentOccPeriod.assembleProposalList(ceCaseWorkflowBB.selectedProposalsViewOption)}"
                                                        rowIndexVar="#{proposal.proposalID}">
                                            <div class="outlinedBox">
                                                <div class="proposal-metadata-container">
                                                    <div class="proposal-propbuttoncontainer">
                                                        <p:commandButton    id="proposal-button-showdescription"
                                                                            styleClass="noFill button-size-small button-moreinfo"
                                                                            icon="fa fa-info"/>

                                                        <p:overlayPanel id="proposal-overlaypanel-proposaldescription"
                                                                        for="proposal-button-showdescription"
                                                                        hideEffect="fade" 
                                                                        dynamic="true" 
                                                                        showCloseIcon="true"
                                                                        style="width:300px" 
                                                                        modal="false">

                                                            <h:outputText       styleClass="proposal-description"
                                                                                value="#{proposal.directive.description}" />
                                                        </p:overlayPanel>


                                                        <p:commandButton    id="proposal-button-rejectionreason"
                                                                            styleClass="noFill button-size-small"
                                                                            oncomplete="PF('cecase-rejectproposal-dialog-var').show()"
                                                                            rendered="#{!proposal.directive.requiredEvaluationForBOBClose 
                                                                                        or systemServicesBB.bbSessionUser.keyCard.hasSysAdminPermissions }"
                                                                            icon="fa fa-trash"/>
                                                    </div>
                                                    <div class="proposal-prophead">
                                                        <h:outputText value="#{proposal.directive.title}" />
                                                    </div>
                                                    <p:spacer height="5px" />
                                                    <h:panelGrid   id="cecase-proposals-panelgrid-propinfo" 
                                                                   columns="1" 
                                                                   style="clear:both;"
                                                                   columnClasses="gridTd" 
                                                                   rendered="true">
                                                        <h:panelGroup>
                                                            <h:outputText styleClass="ui-label-inline" 
                                                                          value="Intended for: "  />
                                                            <h:outputText styleClass="data-text" 
                                                                          value="#{ceCaseWorkflowBB.currentProposal.responderIntended.person.firstName}" />
                                                            <h:outputText styleClass="data-text" 
                                                                          value=" " />
                                                            <h:outputText styleClass="data-text" 
                                                                          value="#{ceCaseWorkflowBB.currentProposal.responderIntended.person.lastName}" />
                                                        </h:panelGroup>
                                                    </h:panelGrid>
                                                </div>

                                                <p:dataScroller id="proposals-choicescroller"
                                                                var="choice"
                                                                widgetVar="proposals-choicescroller-var"
                                                                value="#{proposal.directive.choiceListVisible}"
                                                                rowIndexVar="#{choice.choiceID}">

                                                    <p:commandButton    id="proposal-choice-button-choose"
                                                                        ajax="true" 
                                                                        styleClass="proposal-choice-button"
                                                                        actionListener="#{ceCaseWorkflowBB.proposals_makeChoice(choice, proposal)}"
                                                                        disabled="#{!choice.canChoose or !(empty proposal.responseTS)}"
                                                                        value="#{choice.title}"
                                                                        icon="#{choice.icon.fontAwesome}"
                                                                        title="#{choice.description}"
                                                                        update="cecase-form-proposals
                                                                        cecase-panel-proposals-messages-form"/>
                                                    <p:spacer height="5px" />
                                                </p:dataScroller>
                                            </div>
                                        </p:sdataScroller>

                                    </h:form>
                                </p:panel>
                            
                        
                        </h:panelGroup>


                    <!--close main container-->
                    </div>
                    
                    
                    <p:dialog    id="edit-case-metadata-dialog"
                                 height="650" width="900"
                                 widgetVar="edit-case-metadata-var"
                                 closable="true" 
                                 rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniStaffPermissions}">

                        <h:outputText value="You are editing case no. #{ceCaseWorkflowBB.currentCase.caseID}"/>
                        <p:spacer height="10px"/>

                        <h:form id="updateCaseForm">

                            <h:panelGrid columns="2" border="0" 
                                         cellpadding="2" columnClasses="gridTd, gridTd"
                                         footerClass="gridFooter">
                                <h:panelGroup>
                                    <h:outputText value="Public access control code"/>
                                </h:panelGroup> 
                                <h:panelGroup>
                                    <h:inputText value="#{ceCaseWorkflowBB.currentCase.publicControlCode}"/>
                                </h:panelGroup> 
                                <h:panelGroup>
                                    <h:outputText value="Case name"/>
                                </h:panelGroup> 
                                <h:panelGroup>
                                    <h:inputText value="#{ceCaseWorkflowBB.currentCase.caseName}"/>
                                </h:panelGroup> 
                                <h:panelGroup>
                                    <h:outputText value="Opening date"/>
                                </h:panelGroup> 
                                <h:panelGroup>
                                    <p:calendar value="#{ceCaseWorkflowBB.currentCase.originationDateUtilDate}" 
                                                mode="popup" tabindex="3"
                                                id="formCaseOriginationDateCal"
                                                showOn="button"
                                                pattern="EEE, dd MMM, yyyy"
                                                navigator="true"
                                                showButtonPanel="true"
                                                showTodayButton="true"
                                                required="true"/>

                                    <h:message for="formCaseOriginationDateCal" showDetail="false" showSummary="true" 
                                               warnClass="msgWarn" infoClass="msgInfo" fatalClass="msgFatal" errorClass="msgError" />
                                </h:panelGroup>
                                <h:panelGroup>
                                    <h:outputText value="Notes:"/>
                                </h:panelGroup> 
                                
                                <h:panelGroup>
                                    <h:outputLabel class="bold" value="Public access reference num: " for="selcase-pacc" />
                                    <h:outputText id="selcase-pacc" value="#{ceCaseWorkflowBB.currentCase.publicControlCode}"/>
                                    <p:spacer height="5px"/>
                                    <h:outputLabel class="bold" value="Allow access using ref num?" for="selcase-access-sbcb" />
                                    <p:selectBooleanCheckbox id="selcase-access-sbcb" value="#{ceCaseWorkflowBB.currentCase.paccEnabled}"
                                                             disabled="#{!systemServicesBB.bbSessionUser.keyCard.hasMuniStaffPermissions}">
                                    </p:selectBooleanCheckbox>
                                    <p:spacer height="5px"/>
                                    <h:outputLabel class="bold" value="Allow action request linking?" for="selcase-forwardlinking-sbcb" />
                                    <h:outputText value=" "/>
                                    <p:selectBooleanCheckbox id="selcase-forwardlinking-sbcb" value="#{ceCaseWorkflowBB.currentCase.paccEnabled}"
                                                             disabled="#{!sessionBeasessionUserer.keyCard.hasMuniStaffPermissions}">
                                    </p:selectBooleanCheckbox>
                                    
                                    <p:spacer height="5px"/>
                                </h:panelGroup>
                            </h:panelGrid>
                            <p:spacer height="10px"/>
                            <p:commandButton ajax="true" value="Update Case" action="#{ceCaseWorkflowBB.updateCase}"  icon="fa fa-edit"/>
                        </h:form>
                    </p:dialog>

                    
                    <p:dialog    id="case-phase-dialog"
                                 height="650" width="900"
                                 widgetVar="phase-override"
                                 closable="true" >
                        <h2>Override case phase</h2>
                        <h:form id="casePhaseChangeForm">
                            <p:outputLabel for="override-currcase-ot">
                                <h:outputText styleClass="bold" value="Current phase:"/>
                            </p:outputLabel>
                            <h:outputText id="override-currcase-ot" value="#{ceCaseWorkflowBB.currentCase.casePhase.label} (case ID:#{ceCaseWorkflowBB.currentCase.caseID}) "/>

                            <p:spacer height="5px"/>

                            <p:outputLabel for="casePhaseSOM">
                                <h:outputText styleClass="bold" value="Choose new phase:"/>
                            </p:outputLabel>
                            <p:selectOneMenu value="#{ceCaseWorkflowBB.selectedCasePhase}"
                                             id="casePhaseSOM">
                                <f:selectItems value="#{ceCaseWorkflowBB.casePhaseList}"
                                               var="cp"
                                               itemValue="#{cp}"
                                               itemLabel="#{cp.label}"/>
                            </p:selectOneMenu>

                            <p:commandButton value="Abort override" onclick="PF('phase-override').hide()" type="button" icon="fa fa-stop"/>

                            <p:commandButton ajax="true" 
                                             rendered="#{systemServicesBB.bbSessionUser.keyCard.hasEnfOfficialPermissions}"
                                             actionListener="#{ceCaseWorkflowBB.overrideCasePhase}" 
                                             icon="fa fa-bullhorn"
                                             value="Override phase" 
                                             oncomplete="PF('phase-override').hide()"
                                             update="case-details-form
                                             case-profile-messages-form
                                             events-datascroller-form
                                             "/>

                        </h:form>

                    </p:dialog>

                    <p:confirmDialog message="Create case profile report" 
                                     severity="alert" widgetVar="report-case-profile-diaglog-var"
                                     closable="true" responsive="true"
                                     rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniStaffPermissions}"
                                     >

                        <h:form id="report-case-profile-form">

                            <h:panelGrid columns="2" border="0" 
                                         cellpadding="5" columnClasses="gridTd, gridTd"
                                         footerClass="gridFooter">

                                <f:facet name="header">


                                    <h:outputLabel for="report-case-profile-title-it" value="Report title"/>

                                    <p:spacer height="5px"/>

                                    <p:inputText id="report-case-profile-title-it" style="width: 300px;" value="#{ceCaseWorkflowBB.reportCECase.title}"/>
                                    <h:outputText styleClass="italic" value="note: your name and the current date and time will be automatically inserted" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include case name" for="report-case-profile-casename-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-casename-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeCaseName}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel for="report-case-profile-notes-ita" value="Notes"/>
                                    <p:spacer height="5px"/>
                                    <p:inputText id="report-case-profile-notes-ita" style="width: 300px; height: 100px;" value="#{ceCaseWorkflowBB.reportCECase.notes}"/>
                                    <p:spacer height="5px"/>
                                </f:facet>

                                <h:panelGroup>
                                    <h3>Case event history report options</h3>

                                    <h:outputLabel class="bold" value="Include hidden events: " for="report-case-profile-hidden-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-hidden-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeHiddenEvents}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include inactive events: " for="report-case-profile-inactive-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-inactive-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeInactiveEvents}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include event notes: " for="report-case-profile-eventnotes-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-eventnotes-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeEventNotes}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include requested action fields: " for="report-case-profile-eventrequests-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-eventrequests-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeRequestedActionFields}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include non-public, muni-only events " for="report-case-profile-events-muni-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-events-muni-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeMunicipalityDiclosedEvents}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include code officer only events " for="report-case-profile-events-ceo-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-events-ceo-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeOfficerOnlyEvents}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include event access and metadata" for="report-case-profile-events-meta-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-events-meta-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeEventMetadata}" />

                                </h:panelGroup>
                                <h:panelGroup>

                                    <h3>Other options</h3>

                                    <h:outputLabel class="bold" value="Include full letter text of notices of violation: " for="report-case-profile-noticetext-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-noticetext-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeNoticeFullText}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include returned notices of violation: " for="report-case-profile-allnotices-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-allnotices-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeAllNotices}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include full text of violated ordinances: " for="report-case-profile-ordtext-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-ordtext-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeFullOrdinanceText}" />

                                    <p:spacer height="5px"/>

                                    <h:outputLabel class="bold" value="Include photos of violations" for="report-case-profile-photo-chkbox" />
                                    <p:selectBooleanCheckbox id="report-case-profile-photo-chkbox" value="#{ceCaseWorkflowBB.reportCECase.includeViolationPhotos}" />

                                </h:panelGroup>
                            </h:panelGrid>

                            <p:commandButton ajax="true" 
                                             value="Cancel" icon="fa fa-stop" 
                                             onclick="PF('report-case-profile-diaglog-var').hide()"/>

                            <p:commandButton ajax="true" action="#{ceCaseWorkflowBB.generateReportCECase}"
                                             value="Generate" icon="fa fa-print" 
                                             rendered="#{systemServicesBB.bbSessionUser.keyCard.hasMuniReaderPermissions}"
                                             />

                        </h:form>
                    </p:confirmDialog>



                </f:view>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

