begin
		CREATE OR REPLACE FUNCTION upd_parcel_via_parcelinfo()RETURNS TRIGGER AS $$
    BEGIN
        --
        -- Perform the required update the parcel when action is taken on the parcelinfo
        set parcelinfo.parcel_parcelkey = temp_parcelinfo_parcelkey;
        CREATE TEMP TABLE IF NOT EXISTS temp_table AS
        SELECT * FROM parcel where  parcel_parcelkey  = temp_parcelinfo_parcelkey;     
        IF (TG_OP = 'DELETE') THEN
        
            OLD.last_updated = now();
            OLD.last_user = user;
            INSERT INTO parcel VALUES(OLD.*);
            RETURN OLD;
        ELSIF (TG_OP = 'UPDATE') THEN
          
            NEW.lastupdatedby_userid = now();
            NEW.occperiod.lastupdatedby_userid = user;
            INSERT INTO parcel VALUES(NEW.*);
            RETURN NEW;
        ELSIF (TG_OP = 'INSERT') then
            NEW.lastupdatedby_userid = now();
            NEW.occperiod.lastupdatedby_userid = user;
            INSERT INTO parcel VALUES(NEW.*);
            RETURN NEW;
        END IF;
    END;   
    $$ LANGUAGE plpgsql;
END;
