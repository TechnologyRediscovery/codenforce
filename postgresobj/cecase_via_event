begin
		CREATE OR REPLACE FUNCTION upd_cecase_via_event() RETURNS TRIGGER AS $$
    BEGIN
        --
        -- Perform the required operation on emp, and create a row in emp_audit
        -- to reflect the change made to emp.
       
        set temp_cecase_caseid = cecase.caseid;  
        SELECT * FROM cecase where cecase.caseid= temp_cecase_caseid;
        
        IF (TG_OP = 'DELETE') THEN
            OLD.last_updated = now();
            OLD.last_user = user;
            INSERT INTO cecase VALUES(OLD.*);
            RETURN OLD;
        ELSIF (TG_OP = 'UPDATE') THEN
          
            NEW.lastupdatedby_userid = now();
            NEW.cecase.lastupdatedby_userid = user;
            INSERT INTO cecase VALUES(NEW.*);
            RETURN NEW;
        ELSIF (TG_OP = 'INSERT') then
        
            NEW.lastupdatedby_userid = now();
            NEW.cecase.lastupdatedby_userid = user;
            INSERT INTO cecase VALUES(NEW.*);
            RETURN NEW;
        END IF;
    END;   
    $$ LANGUAGE plpgsql;
    END;
